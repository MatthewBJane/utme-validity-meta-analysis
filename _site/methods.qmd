



## Accounting for Range Restriction

Range restriction occurs when the variation of scores within a sample is less than the variation in the population. When students are selected on (partly) the basis of high UTME scores, then the standard deviation within student scores will be less than the total pool of applicants. Therefore we can index the ratio between the standard deviation of UTME scores of admitted students by the total pool of applicants,

$$
u_x = \frac{SD_{\text{admitted}}}{SD_{\text{applicants}}}
$$


```{r,echo=FALSE, dev = "png", dev.args=list(bg="transparent"), warning=FALSE, message=FALSE}

library(ggplot2)
library(ggdist)
library(ggalt)
library(patchwork)

admitted_all_colleges <- format(c(3708,29485,130865,257902,87988,10796,5628,0), scientific = F)
applicants <- format(c(5833,59494,320430,830866,407300,79837,80746,51874), scientific = F)
bin_midpoint <- c(350,274.5,224.5,179.5,149.5,129.5,109.5,49.5)
bin_labels <-  c('300-400','250-299','200-249','160-199','140-159','120-139','100-119','0-99')

SDapplicants <- rep(c(1,2),c(3,4))
SDapplicants_all <- rep(c(1,2),c(3,4)) 
SDapplicants_university <- rep(c(1,2),c(3,4)) # 0 admitted students below minimum cut-off of 140


freq_dists <- ggplot(data=NULL) +
  theme_ggdist() + 
  theme(panel.background = element_rect(fill='transparent'),
         plot.background = element_rect(fill='transparent', color=NA),
        axis.line = element_line(color='grey90'),
        axis.text = element_text(color='grey90',size = 12),
        axis.title = element_text(color='grey90',size = 14))+
  geom_xspline(aes(x = bin_midpoint, y = admitted_all_colleges), spline_shape=-.4,color='gold')+
  geom_xspline(aes(x = bin_midpoint, y = applicants), spline_shape=-.4,color='skyblue') +
  geom_point(aes(x = bin_midpoint, y = admitted_all_colleges), shape=15,color='gold3',size=4) +
  geom_point(aes(x = bin_midpoint, y = applicants), shape=15,color='skyblue3',size=4) +
  xlab('UTME Score') +
  ylab('Number of Students') +
  annotate(geom='text',x=270, y = 800000, label=paste0('Applicants'),color='skyblue',size=6, hjust='left') + 
  annotate(geom='text',x=270, y = 700000, label='Admitted',color='gold',size=6, hjust='left')

SD_plot <- ggplot(data=NULL) +
  theme_ggdist() + 
  theme(panel.background = element_rect(fill='transparent'),
         plot.background = element_rect(fill='transparent', color=NA),
        axis.line = element_line(color='grey90'),
        axis.text = element_text(color='grey90',size = 12),
        axis.title = element_text(color='grey90',size = 14))+
  ggtitle(label = "Frequency Distribution",
          subtitle = "Data from ")


freq_dists + SD_plot + plot_layout(widths = unit(c(1,3), c("null","cm")))


```



## Accounting for Measurement Error in the Outcome
